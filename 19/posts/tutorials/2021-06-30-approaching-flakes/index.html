<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta property="og:title" content="y|sndr - Approaching nix flakes">
  <meta property="og:description" content="A blog about nix, rust, haskell and more">
  <meta property="og:image" content="/assets/images/feature-x-small.jpg">
  <meta property="og:url" content="https://blog.ysndr.de/">
  <title>y|sndr - Approaching nix flakes</title>
  <link rel="stylesheet" href="../../../assets/css/main.css" />
  <link rel="stylesheet" href="https://maxst.icons8.com/vue-static/landings/line-awesome/line-awesome/1.3.0/css/line-awesome.min.css">  <link rel="alternate" type="application/rss+xml" title="RSS Feed" href="../../../rss.xml" />
  <link rel="alternate" type="application/atom+xml" title="Atom Feed" href="../../../atom.xml" />
  <link rel="apple-touch-icon" sizes="180x180" href="../../../assets/images/favicon/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="../../../assets/images/favicon/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="../../../assets/images/favicon/favicon-16x16.png">
  <link rel="manifest" href="../../../assets/images/favicon/site.webmanifest">
</head>

<body class="flex flex-col overflow-x-hidden text-body text-black leading-normal">
  <header class="bg-muted font-standout leading-snug">

    <div class="flex flex-col sm:flex-row my-8 container justify-items-center justify-end items-center">
      <div class="flex flex-col text-right text-emphasis">
          <h1 class="inline-flex flex-col">Approaching nix flakes
          <small>How to make a flake, **not** from scratch</small>
          </h1>
          <span class="text-xs text-muted">
          
          </span>
      </div>
      <hr class="hidden sm:block sm:h-24 sm:w-px mx-4 my-4 sm:my-auto min-w-px">
      <div class="text-sm text-muted sm:w-5/12 md:w-2/5">
        <ul>
          <li class="flex">
            <i class="las la-calendar-day mr-4"></i> June 30, 2021
          </li>
          <li class="flex">
            <i class="las la-stopwatch mr-4"></i> 5 Minutes
          </li>
          
          <li class="flex">
            <i class="las la-code-branch mr-4"></i>
            <a class="uk-link-muted" href="https://github.com/ysndr/blog/commit/f83a303">f83a303: Merge 23112ef6a85b66a7774f1743335bf78d849eabd0 into afcde9a21d871ec0d3fec1d78ce82465d6086a7a</a>
          </li>

        </ul>
      </div>
    </div>
    <hr class="container" />

</header>


  <header class="sticky font-standout inset-0 z-50 min-w-full bg-muted text-base">
  <nav class="container grid grid-cols-3">



    <div class="flex flex-col">
      <a class="content-center my-auto text-muted w-max"><svg xmlns="http://www.w3.org/2000/svg" class="inline-block h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
        <path stroke-linecap="square" stroke-linejoin="miter" stroke-width="1.5" d="M4 6h20 M4 12h20 M4 18h20"></path>
      </svg><span class="ml-2 uppercase text-xs">Menu</span></a>


      <div uk-dropdown class="container hidden">
            <div class="inset-x-0 absolute container px-8 grid sm:grid-cols-3 sm:gap-8 shadow-lg bg-white text-sm text-muted fill-current stroke-current pb-6">
              <div>
                <ul class="flex flex-col gap-2">
                  <li class="uppercase text-black">Who?</li>
                  <li><a href="../../../about">About Me</a></li>
                  <li><a href="https://gist.github.com/ysndr/978662957bb9187fd52b2037466e1e34">CV</a></li>
                  <li><hr></li>
                  <li>
                    <ul horizontal>
                      <li><a href="mailto:contact@ysndr.de"><i class="las la-envelope-open-text"></i></a></li>
                      <li class="ml-2"><a href="https://linkedin.com/in/yannik-sander"><i class="lab la-linkedin-in"></i></a>
                      </li>
                      <li class="ml-2"><a href="https://github.com/ysndr"><i class="lab la-github"></i></a></li>
                    </ul>
                  </li>
                </ul>
              </div>
             <hr class="sm:hidden">
              <div>
                <ul class="flex flex-col gap-2">
                  <li class="text-black uppercase">What?</li>
                  <li><a href="https://github.com/ysndr">Projects</a></li>
                  <li><hr></li>
                  <li><a href="https://github.com/ysndr/sam-knn-regressor">sam-knn-regressor</a></li>
                  <li><a href="https://github.com/ysndr/nixos-config">NixOS Config</a></li>
                </ul>
              </div>
              <hr class="sm:hidden">
              <div>
                <ul class="flex flex-col gap-2">
                  <li class="uppercase text-black">Blog</li>
                  <li><a href="../../../about">About Me</a></li>
                  <li><a href="../../../archive">Archive</a></li>
                  <li class="flex">
                    <span>
                      <svg class="w-4 h-4" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg" data-svg="rss" stroke="currentColor"><circle cx="3.12" cy="16.8" r="1.85"></circle><path fill="none" stroke-width="1.1" d="M1.5,8.2 C1.78,8.18 2.06,8.16 2.35,8.16 C7.57,8.16 11.81,12.37 11.81,17.57 C11.81,17.89 11.79,18.19 11.76,18.5"></path><path fill="none" stroke-width="1.1" d="M1.5,2.52 C1.78,2.51 2.06,2.5 2.35,2.5 C10.72,2.5 17.5,9.24 17.5,17.57 C17.5,17.89 17.49,18.19 17.47,18.5"></path></svg>
                    </span>
                    <ul class="items-center ml-2" horizontal>
                      <li><a href="../../../rss.xml">RSS</a></li>
                      <li class="ml-4"><a href="../../../atom.xml">Atom</a></li>
                    </ul>
                  </li>
                  <li><hr></li>
                  <li><a href="https://github.com/ysndr/blog/commit/f83a303"><span><svg class="w-4 h-4" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg" data-svg="git-branch"><circle fill="none" stroke-width="1.2" cx="7" cy="3" r="2"></circle><circle fill="none" stroke-width="1.2" cx="14" cy="6" r="2"></circle><circle fill="none" stroke-width="1.2" cx="7" cy="17" r="2"></circle><path fill="none" stroke-width="2" d="M14,8 C14,10.41 12.43,10.87 10.56,11.25 C9.09,11.54 7,12.06 7,15 L7,5"></path></svg></span>   current rev.: f83a303: Merge 23112ef6a85b66a7774f1743335bf78d849eabd0 into afcde9a21d871ec0d3fec1d78ce82465d6086a7a</a></li>
                </ul>
              </div>
            </div>
      </div>

    </div>


    <div class="uk-navbar-nav uk-flex-1 py-4 align-items-center">

      <a href="../../../" class="flex items-center justify-center">
          <img src="../../../assets/images/logo-small.svg" alt="y|sndr" class="h-8" />
        </a>


    </div>



    
    <div class="flex flex-col items-end md:relative">
        <a class="content-center uppercase my-auto text-muted w-max">
          <span class="md:hidden">Content</span> <span class="hidden md:block">Table of Contents</span>
        </a>
        <div class="y-toc hidden" uk-drop>
          <div class="container max-w-full sm:max-w-sm  bg-white p-6 w-full absolute text-muted right-0 shadow-xl rounded-b" uk-scrollspy-nav="closest: li; scroll: true; offset: 85; cls: text-emphasis">
            <ul class><li><a href="#introduction"><span>Introduction</span><span></span></a></li><li><a href="#schema"><span>Schema</span><span></span></a></li><li><a href="#first-considerations"><span>first considerations</span><span></span></a><ul class><li><a href="#the-readme-and-installation-instructions"><span>The Readme and installation instructions</span><span></span></a></li><li><a href="#main-language"><span>Main language</span><span></span></a><ul class><li><a href="#what-to-flake"><span>What to flake</span><span></span></a></li></ul></li><li><a href="#types-of-artifacts"><span>Types of artifacts</span><span></span></a></li><li><a href="#pure-builds"><span>Pure builds</span><span></span></a></li><li><a href="#dependencies"><span>Dependencies</span><span></span></a></li></ul></li><li><a href="#build-systems-tools"><span>build systems / tools</span><span></span></a><ul class><li><a href="#dependencies-again"><span>Dependencies (again)</span><span></span></a></li><li><a href="#reimplementing-in-nix-splitting"><span>reimplementing in nix / splitting</span><span></span></a></li></ul></li><li><a href="#pitfalls"><span>pitfalls</span><span></span></a><ul class><li><a href="#yarn-workspaces"><span><em>yarn</em> workspaces</span><span></span></a></li></ul></li><li><a href="#nix-dev-tools"><span>Nix dev tools</span><span></span></a><ul class><li><a href="#nix-develop-nix-shell"><span>nix develop / nix-shell</span><span></span></a></li></ul></li><li><a href="#language-specifics-teaser"><span>Language specifics (teaser)</span><span></span></a><ul class><li><a href="#haskell-package-versions"><span>Haskell package versions</span><span></span></a></li><li><a href="#python-packages"><span>Python packages</span><span></span></a></li><li><a href="#nodejs"><span>NodeJS</span><span></span></a></li><li><a href="#gnu-cc"><span>GNU C/C++</span><span></span></a></li></ul></li></ul>
          </div>
        </div>
    </div>
    

  </nav>

</header>


  <main class="my-8">
    <div class="container">
      <section class="relative">
    

<div class="h-56 sm:h-xl xl:h-2xl bg-cover w-5/6 mx-auto xl:min-w-full xl:w-auto mb-8 xl:-mx-24 rounded-lg relative shadow-2xl overflow-hidden">
    <img src="https://unsplash.com/photos/P8PSZCtpxvU/download?w=1100" alt="Article image" class="relative w-full h-full object-cover">

    <div class="w-full absolute bottom-0">
        <div class="relative">
            <div class="bg-white rounded-full m-4 w-max float-right p-1" style="line-height: 0;"><i class="las la-copyright"></i></div>
            <div uk-drop="pos: top-right" class="w-max hidden absolute pb-4">
                <div class="bg-white p-6 rounded">
                    <h4 class="uk-card-title">Credits</h4>
                    
                    Image taken by <a style="background-color:black;color:white;text-decoration:none;padding:4px 6px;font-family:-apple-system, BlinkMacSystemFont, &quot;San Francisco&quot;, &quot;Helvetica Neue&quot;, Helvetica, Ubuntu, Roboto, Noto, &quot;Segoe UI&quot;, Arial, sans-serif;font-size:12px;font-weight:bold;line-height:1.2;display:inline-block;border-radius:3px" href="https://unsplash.com/photos/P8PSZCtpxvU" target="_blank" rel="noopener noreferrer" title="Download free do whatever you want high-resolution photos from Tijana Drndarski"><span style="display:inline-block;padding:2px 3px"><svg xmlns="http://www.w3.org/2000/svg" style="height:12px;width:auto;position:relative;vertical-align:middle;top:-2px;fill:white" viewBox="0 0 32 32"><title>unsplash-logo</title><path d="M10 9V0h12v9H10zm12 5h10v18H0V14h10v9h12v-9z"></path></svg></span><span style="display:inline-block;padding:2px 3px">Tijana Drndarski</span></a> on Unsplash

                    
                </div>
            </div>
        </div>
    </div>
</div>




<article>

    <p class="text-lead text-emphasis italic sm:w-5/6 mx-auto"><i>Nix flakes are (will be) an importing building block of the wider nix ecosystem. Yet, there is little information about how to provide existing software using flakes, or crucially using nix. This article tries to give some answers to those questions.</i></p>
    <p><h1 class="y-header" id="introduction">
<span>Introduction</span><a href="#introduction" class="anchor las la-anchor" title="introduction"></a>
</h1>
<p>
Nix Flakes are getting more and more popular. On GitHub alone more than 2000 repositories are providing a flake definition of some sort <!--provide link--> . Although still an RFC<!--link-->, the nix foundation seeks to set the foundation for greater adaption. Some work is concerned with making nix flakes more discoverable. More precisely, I am working on bringing flake support to nixos-search<!--link-->. Yet this post is about something else more foundational! This year The first <em>Summer of Nix</em> is supposed to start in August, and will produce a list of new flakes implementing open source projects funded by the European Commission through NLnet and the NGI-0 initiative.<!--links, probably-->
</p>
<p>
I am working as a mentor for one group of participants in this project. Being a packager of NGI-0 packages before, and on boarding the first participants one issue became apparent: There is documentation about what are flakes and how to write them, yet there is little information about how to approach packaging more complicated, existing and critically, not nix based software?
</p>
<div class="uk-alert-primary note box y-fill-horizontal" data-header="Defining Scope">
<div class="header">
<div>
<span class="las la-pencil-alt"></span>
<div class="badge">
<p>NOTE</p>
</div>
</div>
<div>
<p>
Defining Scope
</p>
</div>
</div>
<p>
In this article I want to speak mostly about how to prepare for and approach packaging, both for SoN participants and the broader community. I am aware that there are many pitfalls related to specific ecosystems. These are not part of this article but will be addressed in upcoming ones by me and perhaps other mentors and participants of SoN.
</p>
</div>
<h1 class="y-header" id="schema">
<span>Schema</span><a href="#schema" class="anchor las la-anchor" title="schema"></a>
</h1>
<div class="uk-alert-success help box y-fill-horizontal" data-header="Proposed process schema">
<div class="header">
<div>
<span class="las la-life-ring"></span>
<div class="badge">
<p>HELP</p>
</div>
</div>
<div>
<p>
Proposed process schema
</p>
</div>
</div>
</div>
<h1 class="y-header" id="first-considerations">
<span>first considerations</span><a href="#first-considerations" class="anchor las la-anchor" title="first-considerations"></a>
</h1>
<p>
When starting to package a new foreign project I would first check a few important things that could give a hint of what needs to be done and what might cause trouble. In the following I present a some pointers of what that might be. I assume the list to be growing over time as well.
</p>
<h2 class="y-header" id="the-readme-and-installation-instructions">
<span>The Readme and installation instructions</span><a href="#the-readme-and-installation-instructions" class="anchor las la-anchor" title="the-readme-and-installation-instructions"></a>
</h2>
<h2 class="y-header" id="main-language">
<span>Main language</span><a href="#main-language" class="anchor las la-anchor" title="main-language"></a>
</h2>
<p>
I believe this one will be somewhat intuitive. After all, knowing what language is packaged allows you get an idea about the state of tools that nix offers to help you. To give ypu a glimpse:
</p>
<p>
<code>package.json</code> (JavaScript) ~ Javascript projects either for the client side of things or in terms of a nodeJS project are a classical occurrence. There is decent tooling for those through <a href="https://github.com/svanderburg/node2nix">node2nix</a>. Node2nix can be used to generate a nix package for the the project or at least its dependencies from the <code>package.json</code> file. ~ Yet because JavaScript tends to be very dynamic, people often end up with non standard solutions or some that make heavy use of build scripts. While this can be fine, one should closely inspect how the default build process works. Usually, build steps are defined in the <code>package.json</code> file under <code>“scripts.build”</code> which is the command that would be executed by <code>npm</code> when running <code>npm build</code>. There, sometimes external scripts are called which might require additional dependencies not considered by node2nix. ~ Speaking of node2nix, depending on the project, you might need to tweak the node version used as the default node version to date is node v12. ~ There is also <a href="https://github.com/Profpatsch/yarn2nix"><code>yarn2nix</code></a> for projects using yarn (yarn <em>workspaces</em> are sadly not supported yet)
</p>
<p>
Python ~ Python projects can make use of different tools depending of the python environment used. There is <a href="https://github.com/DavHau/mach-nix"><code>mach-nix</code></a> whcih serves the same purpose as node2nix in the JS world ~ for projects using <a href="https://python-poetry.org/">poetry</a> there is <a href="https://github.com/nix-community/poetry2nix">poetry2nix</a> making use of the greater version pinning abilities offered by the project. ~ Note that <em><code>nixpkgs.python</code> resolves to Python <strong>2</strong></em><a href="#fn1" class="footnote-ref" id="fnref1" role="doc-noteref"><sup>1</sup></a>
</p>
<p>
Haskell ~ Haskell is one of the best supported environments in nix. It has tight integration with Stack and Cabal and can build projects from either of those prject definition files natively using <a href="https://github.com/NixOS/cabal2nix"><code>cabal2nix</code></a> and the included <code>pkgs.haskellPackages.callCabal2nix</code>/<code>pkgs.haskellPackages.callStack2nix</code> - IOHK has also developed a complete but separate haskell stack for nix: <a href="https://github.com/input-output-hk/haskell.nix">haskell.nix</a> ~ References: - https://bytes.zone/posts/callcabal2nix/ - https://www.srid.ca/haskell-nix
</p>
<p>
Rust ~ Rust packages, are as well very well supported. This is also due to the excellent cargo package manager used by rust. Unsurprisingly, there is a conversion tool <a href="https://github.com/kolloch/crate2nix"><code>crate2nix</code></a> ~ Be aware about system dependencies that are not picked up automatically: - <code>openssl</code> will needed to be added to as a <code>buildInput</code> for many projects - macos some additional frameworks may be needed. The more regularly missing ones are: <code>libiconv</code>, <code>darwin.apple_sdk.frameworks.SystemConfiguration</code>, <code>darwin.apple_sdk.frameworks.CoreServices</code> and <code>darwin.apple_sdk.frameworks.Security</code>
</p>
<p>
<code>Makefile</code> (C/C++) ~ Plain C project might be almost the easiest to package. In the optimal case you will be done referencing the source, as the builder will actually call the GNU build machinery by default. You will still need to add all dependencies as <code>buildInputs</code>. ~ Finding out which libraries are required can be a tedious task. See below for some pointers to approach this task.
</p>
<h3 class="y-header" id="what-to-flake">
<span>What to flake</span><a href="#what-to-flake" class="anchor las la-anchor" title="what-to-flake"></a>
</h3>
<h2 class="y-header" id="types-of-artifacts">
<span>Types of artifacts</span><a href="#types-of-artifacts" class="anchor las la-anchor" title="types-of-artifacts"></a>
</h2>
<div class="uk-alert-success help box y-fill-horizontal" data-header="Proposed hierarchy">
<div class="header">
<div>
<span class="las la-life-ring"></span>
<div class="badge">
<p>HELP</p>
</div>
</div>
<div>
<p>
Proposed hierarchy
</p>
</div>
</div>
</div>
<h2 class="y-header" id="pure-builds">
<span>Pure builds</span><a href="#pure-builds" class="anchor las la-anchor" title="pure-builds"></a>
</h2>
<h2 class="y-header" id="dependencies">
<span>Dependencies</span><a href="#dependencies" class="anchor las la-anchor" title="dependencies"></a>
</h2>
<h1 class="y-header" id="build-systems-tools">
<span>build systems / tools</span><a href="#build-systems-tools" class="anchor las la-anchor" title="build-systems-tools"></a>
</h1>
<h2 class="y-header" id="dependencies-again">
<span>Dependencies (again)</span><a href="#dependencies-again" class="anchor las la-anchor" title="dependencies-again"></a>
</h2>
<h2 class="y-header" id="reimplementing-in-nix-splitting">
<span>reimplementing in nix / splitting</span><a href="#reimplementing-in-nix-splitting" class="anchor las la-anchor" title="reimplementing-in-nix-splitting"></a>
</h2>
<h1 class="y-header" id="pitfalls">
<span>pitfalls</span><a href="#pitfalls" class="anchor las la-anchor" title="pitfalls"></a>
</h1>
<p>
Mainly own experiences:
</p>
<h2 class="y-header" id="yarn-workspaces">
<span><em>yarn</em> workspaces</span><a href="#yarn-workspaces" class="anchor las la-anchor" title="yarn-workspaces"></a>
</h2>
<h1 class="y-header" id="nix-dev-tools">
<span>Nix dev tools</span><a href="#nix-dev-tools" class="anchor las la-anchor" title="nix-dev-tools"></a>
</h1>
<h2 class="y-header" id="nix-develop-nix-shell">
<span>nix develop / nix-shell</span><a href="#nix-develop-nix-shell" class="anchor las la-anchor" title="nix-develop-nix-shell"></a>
</h2>
<h1 class="y-header" id="language-specifics-teaser">
<span>Language specifics (teaser)</span><a href="#language-specifics-teaser" class="anchor las la-anchor" title="language-specifics-teaser"></a>
</h1>
<h2 class="y-header" id="haskell-package-versions">
<span>Haskell package versions</span><a href="#haskell-package-versions" class="anchor las la-anchor" title="haskell-package-versions"></a>
</h2>
<ul>
<li>
jailbreak
</li>
</ul>
<h2 class="y-header" id="python-packages">
<span>Python packages</span><a href="#python-packages" class="anchor las la-anchor" title="python-packages"></a>
</h2>
<h2 class="y-header" id="nodejs">
<span>NodeJS</span><a href="#nodejs" class="anchor las la-anchor" title="nodejs"></a>
</h2>
<h2 class="y-header" id="gnu-cc">
<span>GNU C/C++</span><a href="#gnu-cc" class="anchor las la-anchor" title="gnu-cc"></a>
</h2>
<section class="footnotes" role="doc-endnotes">
<hr />
<ol>
<li id="fn1" role="doc-endnote">
<p>
https://discourse.nixos.org/t/should-python-point-to-python3/10096<a href="#fnref1" class="footnote-back" role="doc-backlink">↩︎</a>
</p>
</li>
</ol>
</section></p>

</article>

</section>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.2/MathJax.js?config=TeX-AMS_CHTML-full" type="text/javascript"></script>
<!--[if lt IE 9]>
  <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
<![endif]-->

    </div>
  </main>


  <footer class="font-standout text-sm py-8 px-4 text-mutedDark bg-footer dark">
      <div class="container grid sm:grid-cols-3 gap-8">
        <div>

            <h3 class="text-emphasizedDark">Contact</h3>
            <ul class="ml-1 list-none">
            <li><a href="mailto:contact@ysndr.de" class="text-emphasizedDark no-underline"><i class="las la-envelope-open-text"></i> contact@ysndr.de</a></li>
            <li><a href="https://linkedin.com/in/yannik-sander" class="text-emphasizedDark no-underline"><i class="lab la-linkedin"></i></svg> yannik-sander</a></li>
            <li>
            <a href="https://github.com/ysndr" class="text-emphasizedDark no-underline"><i class="las la-code-branch"></i> ysndr</a></li>
          </ul>


        </div>
        <div class="mt-4 sm:mt-0">

          <h3 class="text-emphasizedDark">Legal</h3>
          <ul class="ml-1 list-none">
            <li class="inline-flex justify-items-start items-start mb-0">
              <span class="las la-check-circle block mr-2"></span> No analytics are used here your data is safe :)
            </li>
            <li class="inline-flex items-start">
              <span class="las la-check-circle block mr-2"></span> The content of this blog is licensed under CC0 terms if not otherwise noted</span>
            </li>
          </ul>
        </div>
        <div class="mt-4 sm:mt-0">

          <h3 class="text-emphasizedDark">About this blog</h3>
          <ul class="ml-1 list-none">
            <li>
              Built with <i class="las la-code"></i> and <i class="lar la-heart"></i> using <a class="text-emphasizedDark no-underline" href="https://jaspervdj.be/hakyll/">Hakyll</a>
            </li>
            <li class="text-muted"><i class="las la-code-branch"></i> last updated: <a class="text-emphasizedDark no-underline" href="https://github.com/ysndr/blog">f83a303: Merge 23112ef6a85b66a7774f1743335bf78d849eabd0 into afcde9a21d871ec0d3fec1d78ce82465d6086a7a (2021-06-28 13:34:24 +0000)</a>
            </li>
            <li>
              <a class="no-underline" href="https://builtwithnix.org" rel="nofollow">
                <img src="https://builtwithnix.org/badge.svg" style="max-width:100%;">
              </a>
            </li>
          </ul>
        </div>
      </div>
    </div>

    </div>

  </footer>


  <script src="https://cdnjs.cloudflare.com/ajax/libs/uikit/3.2.0/js/uikit.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/uikit/3.2.0/js/uikit-icons.min.js"></script>
  <!-- <script src="https://cdn.jsdelivr.net/npm/cookieconsent@3/build/cookieconsent.min.js"></script>
  <script>
    window.cookieconsent.initialise({
    container: document.getElementById("content"),
    palette:{
     popup: {background: "#fff"},
     button: {background: "#aa0000"},
    },
    revokable:true,
    onStatusChange: function(status) {
     console.log(this.hasConsented() ?
      'enable cookies' : 'disable cookies');
    },
    law: {
     regionalLaw: false,
    },
    location: false,
   });
  </script> -->
</body>

</html>
